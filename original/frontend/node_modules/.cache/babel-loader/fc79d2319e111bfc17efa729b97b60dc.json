{"ast":null,"code":"var _jsxFileName = \"/Users/brianheise/liferay/training/remote/hotel-booking/frontend/src/components/FormReview.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Form, FormGroup, Button, FloatingLabel } from 'react-bootstrap';\nimport { createRoomReview } from '../redux/actions/RoomActions';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport Message from './Message';\nimport { useAuthStatus } from '../hooks/useAuthStatus';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FormReview = _ref => {\n  _s();\n\n  let {\n    idRoom\n  } = _ref;\n  const {\n    loggedIn\n  } = useAuthStatus();\n  const dispatch = useDispatch();\n  const [comment, setComment] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n\n  const handleReview = e => {\n    e.preventDefault();\n\n    if (comment !== \"\") {\n      dispatch(createRoomReview(idRoom, {\n        rating,\n        comment\n      }));\n      setComment(\"\");\n      setRating(0);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loggedIn ? /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleReview,\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        className: \"field-rating\",\n        children: [...Array(5)].map((star, index) => {\n          index += 1;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: index <= (hover || rating) ? \"bi bi-star-fill\" : \"bi bi-star\",\n            onClick: () => setRating(index),\n            onMouseEnter: () => setHover(index),\n            onMouseLeave: () => setHover(rating)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        className: \"mt-3 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n          controlId: \"floatingTextarea2\",\n          label: \"Comments\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            placeholder: \"Leave a comment here\",\n            name: \"comment\",\n            value: comment,\n            onChange: e => setComment(e.target.value),\n            style: {\n              height: '100px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Add Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), \" to write a review\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(FormReview, \"g1VxDkPQzd/LfzZ/Tru25ogXsZ8=\", false, function () {\n  return [useAuthStatus, useDispatch];\n});\n\n_c = FormReview;\nexport default FormReview;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormReview\");","map":{"version":3,"sources":["/Users/brianheise/liferay/training/remote/hotel-booking/frontend/src/components/FormReview.tsx"],"names":["React","useState","Form","FormGroup","Button","FloatingLabel","createRoomReview","Link","useDispatch","Message","useAuthStatus","FormReview","idRoom","loggedIn","dispatch","comment","setComment","rating","setRating","hover","setHover","handleReview","e","preventDefault","Array","map","star","index","target","value","height"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Form, FormGroup, Button, FloatingLabel } from 'react-bootstrap'\nimport { createRoomReview } from '../redux/actions/RoomActions';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport Message from './Message';\nimport { useAuthStatus } from '../hooks/useAuthStatus';\nimport { IRoom } from '../interfaces/IRoom';\n\ntype TFormReview = {\n    idRoom: IRoom['_id']\n}\n\nconst FormReview: React.FC<TFormReview> = ({ idRoom }) => {\n\n    const { loggedIn } = useAuthStatus();\n\n    const dispatch = useDispatch();\n    const [comment, setComment] = useState<string>(\"\");\n    const [rating, setRating] = useState<number>(0);\n    const [hover, setHover] = useState<number>(0);\n\n    const handleReview = (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if(comment !== \"\") {\n            dispatch(createRoomReview(idRoom, { rating, comment }));\n            setComment(\"\");\n            setRating(0);\n        }\n\n    }\n\n\n  return (\n      <>\n        {loggedIn ? (\n            <Form onSubmit={handleReview}>\n                <FormGroup className=\"field-rating\">\n                    {[...Array(5)].map((star, index) => {\n                        index += 1;\n                        return (\n                        <button\n                            type=\"button\"\n                            key={index}\n                            className={index <= (hover || rating) ? \"bi bi-star-fill\" : \"bi bi-star\"}\n                            onClick={() => setRating(index)}\n                            onMouseEnter={() => setHover(index)}\n                            onMouseLeave={() => setHover(rating)}\n                        >\n                        </button>\n                        );\n                    })}\n                </FormGroup>\n                <FormGroup className=\"mt-3 mb-3\">\n                    <FloatingLabel controlId=\"floatingTextarea2\" label=\"Comments\">\n                        <Form.Control\n                        as=\"textarea\"\n                        placeholder=\"Leave a comment here\"\n                        name=\"comment\"\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                        style={{ height: '100px' }}\n                        />\n                    </FloatingLabel>\n                </FormGroup>\n                <FormGroup>\n                    <Button type=\"submit\">\n                        Add Review\n                    </Button>\n                </FormGroup>\n            </Form>\n        ) : (\n            <Message variant=\"info\">\n                <Link to=\"/login\">Sign in</Link> to write a review\n            </Message>\n        )}\n    </>\n  );\n};\n\nexport default FormReview;\n"]},"metadata":{},"sourceType":"module"}